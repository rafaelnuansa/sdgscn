import{q as V,r as p,W as k,j as r,F as D,a as e,b as L,y as b}from"./app-6fa01f51.js";import{B as u}from"./button-e2307a57.js";import{C as h,a as f,b as w,c as v,d as g}from"./card-9f486e91.js";import{I as l}from"./input-d284db37.js";import{L as t}from"./label-081f6f63.js";import{I as n}from"./input-error-16cfc667.js";import{P as j}from"./phone-input-3276aec4.js";import{L as R}from"./layout-7b09457a.js";import"./extends-98964cd2.js";import"./index-f96983da.js";import"./utils-4ffb26b8.js";import"./index-3874097f.js";import"./index-9d034f32.js";import"./index-0dcac027.js";import"./command-b0fd3b12.js";import"./index-f537e81f.js";import"./index-46991544.js";import"./dialog-509cddda.js";import"./createLucideIcon-c5ae5a41.js";import"./popover-56e5c94b.js";import"./check-b59271b0.js";import"./scroll-area-2d3c3a5b.js";import"./index-465903ca.js";import"./logo-5f9b324f.js";import"./sweetalert2.all-079bc42e.js";import"./image-5db51842.js";import"./LazyLoad-ee4defa4.js";import"./index-e3a1bf56.js";import"./avatar-2fbb423b.js";import"./sheet-6a6b4bec.js";import"./dropdown-menu-abbb3a18.js";function q(){const{props:d}=V(),{profile:m}=d,C=p.useRef(),N=p.useRef(),[_,S]=p.useState(!1),{data:o,setData:s,errors:i,put:P,reset:c,processing:y}=k({name:m.name||"",phone:m.phone||"",email:m.email||"",current_password:"",password:"",password_confirmation:""}),x=a=>{a.preventDefault(),P(route("admin.profile.updatePassword"),{preserveScroll:!0,onSuccess:()=>c(),onError:E=>{E.password&&(c("password","password_confirmation"),C.current.focus()),E.current_password&&(c("current_password"),N.current.focus())}})},I=a=>{a.preventDefault(),P(route("admin.profile.update"),{preserveScroll:!0,onSuccess:()=>b.visit(route("admin.profile.index"),{method:"get"})})},F=()=>{b.post(route("admin.profile.sendVerificationEmail"),{},{onSuccess:()=>S(!0)})};return r(D,{children:[e(L,{title:"Profile"}),r("div",{className:"space-y-5",children:[!m.email_verified_at&&r(h,{children:[r(f,{children:[e(w,{children:"Email Verification"}),e(v,{children:"Your Email is not verified, Please Confirm Your Email"})]}),e(g,{children:e("div",{children:e(u,{onClick:F,disabled:_,children:_?"Verification Email Sent":"Resend Verification Email"})})})]}),r(h,{children:[r(f,{children:[e(w,{children:"Edit Profile"}),e(v,{children:"Edit Profile information"})]}),e(g,{children:r("form",{onSubmit:I,className:"space-y-6",children:[r("div",{children:[e(t,{htmlFor:"name",children:"Name"}),e(l,{id:"name",value:o.name,onChange:a=>s("name",a.target.value),type:"text",className:"mt-1 block w-full"}),e(n,{message:i.name,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"phone",children:"Phone"}),e(j,{id:"phone",international:!0,defaultCountry:"ID",value:o.phone,onChange:a=>s("phone",a),required:!0}),e(n,{message:i.phone,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"email",children:"Email"}),e(l,{id:"email",value:o.email,onChange:a=>s("email",a.target.value),type:"email",className:"mt-1 block w-full"}),e(n,{message:i.email,className:"mt-2"})]}),e("div",{className:"flex items-center gap-4",children:e(u,{disabled:y,children:"Save"})})]})})]}),r(h,{children:[r(f,{children:[e(w,{children:"Change Password"}),e(v,{children:"Change your account password"})]}),e(g,{children:r("form",{onSubmit:x,className:"space-y-6",children:[r("div",{children:[e(t,{htmlFor:"current_password",children:"Password"}),e(l,{id:"current_password",ref:N,value:o.current_password,onChange:a=>s("current_password",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password"}),e(n,{message:i.current_password,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"password",children:"New Password"}),e(l,{id:"password",ref:C,value:o.password,onChange:a=>s("password",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(n,{message:i.password,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"password_confirmation",children:"Confirm Password"}),e(l,{id:"password_confirmation",value:o.password_confirmation,onChange:a=>s("password_confirmation",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(n,{message:i.password_confirmation,className:"mt-2"})]}),e("div",{className:"flex items-center gap-4",children:e(u,{disabled:y,children:"Save"})})]})})]})]})]})}q.layout=d=>e(R,{children:d});export{q as default};
