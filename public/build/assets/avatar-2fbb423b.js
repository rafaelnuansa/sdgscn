import{r as t,a as $}from"./app-6fa01f51.js";import{_ as i}from"./extends-98964cd2.js";import{$ as w,a as S,b as m}from"./index-46991544.js";import{$ as l}from"./index-3874097f.js";import{d as u}from"./utils-4ffb26b8.js";const p="Avatar",[_,B]=w(p),[L,g]=_(p),N=t.forwardRef((e,r)=>{const{__scopeAvatar:a,...o}=e,[c,d]=t.useState("idle");return t.createElement(L,{scope:a,imageLoadingStatus:c,onImageLoadingStatusChange:d},t.createElement(l.span,i({},o,{ref:r})))}),h="AvatarImage",E=t.forwardRef((e,r)=>{const{__scopeAvatar:a,src:o,onLoadingStatusChange:c=()=>{},...d}=e,n=g(h,a),s=I(o),f=S(b=>{c(b),n.onImageLoadingStatusChange(b)});return m(()=>{s!=="idle"&&f(s)},[s,f]),s==="loaded"?t.createElement(l.img,i({},d,{ref:r,src:o})):null}),y="AvatarFallback",C=t.forwardRef((e,r)=>{const{__scopeAvatar:a,delayMs:o,...c}=e,d=g(y,a),[n,s]=t.useState(o===void 0);return t.useEffect(()=>{if(o!==void 0){const f=window.setTimeout(()=>s(!0),o);return()=>window.clearTimeout(f)}},[o]),n&&d.imageLoadingStatus!=="loaded"?t.createElement(l.span,i({},c,{ref:r})):null});function I(e){const[r,a]=t.useState("idle");return m(()=>{if(!e){a("error");return}let o=!0;const c=new window.Image,d=n=>()=>{o&&a(n)};return a("loading"),c.onload=d("loaded"),c.onerror=d("error"),c.src=e,()=>{o=!1}},[e]),r}const v=N,A=E,x=C,R=t.forwardRef(({className:e,...r},a)=>$(v,{ref:a,className:u("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));R.displayName=v.displayName;const M=t.forwardRef(({className:e,...r},a)=>$(A,{ref:a,className:u("aspect-square h-full w-full",e),...r}));M.displayName=A.displayName;const k=t.forwardRef(({className:e,...r},a)=>$(x,{ref:a,className:u("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));k.displayName=x.displayName;export{R as A,M as a,k as b};
