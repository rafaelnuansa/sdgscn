import{r as u,j as s,a as e,W as g,b as w}from"./app-63e7952b.js";import{I as l}from"./input-eee1757d.js";import{L as m}from"./label-d2ec3fec.js";import{D as v,a as N,b,c as C,d as k,e as x}from"./dialog-ce1b28eb.js";import{B as p}from"./button-23f7c2f7.js";import{m as D}from"./index-f2134801.js";import{I as i}from"./input-error-34fdfcb4.js";import{C as y}from"./checkbox-992e0272.js";import{P as L}from"./phone-input-c3082cb5.js";import{J as S}from"./index-e35b7e7c.js";import"./utils-2190c141.js";import"./index-77ca3b3c.js";import"./index-f96983da.js";import"./index-c2a46114.js";import"./index-e34585fa.js";import"./check-50ecf4a6.js";import"./index-7fbae591.js";import"./index-fc7fcb57.js";import"./command-df4ffff9.js";import"./popover-5ae7021f.js";import"./scroll-area-9d3a7a4e.js";import"./index-5d9aff14.js";function F({onClose:n}){const{data:r,setData:t,post:d,processing:o,errors:c,reset:h}=g({email:"",password:"",remember:!1});return u.useEffect(()=>()=>{h("password")},[]),e("form",{onSubmit:a=>{a.preventDefault(),d(route("login"),{onSuccess:()=>n()})},children:s("div",{className:"grid gap-2",children:[s("div",{className:"mb-3",children:[e(m,{htmlFor:"email",children:"Email"}),e(l,{id:"email",type:"email",name:"email",value:r.email,className:"mt-1 block w-full",onChange:a=>t("email",a.target.value)}),e(i,{message:c.email,className:"mt-2"})]}),s("div",{className:"mb-3",children:[e(m,{htmlFor:"password",children:"Password"}),e(l,{id:"password",type:"password",name:"password",value:r.password,className:"mt-1 block w-full",onChange:a=>t("password",a.target.value)}),e(i,{message:c.password,className:"mt-2"})]}),s("div",{className:"mt-2 flex items-center justify-between",children:[s("label",{className:"flex items-center",children:[e(y,{defaultChecked:!0,name:"remember",onCheckedChange:a=>t("remember",a)}),e("span",{className:"ml-2 select-none text-sm text-muted-foreground",children:"Remember me"})]}),e(w,{href:"/forgot-password",className:"text-sm font-medium text-foreground hover:underline",children:"Lupa Password?"})]}),e("div",{className:"mt-2 gap-x-2",children:e(p,{className:"w-full",disabled:o,type:"submit",children:"Masuk"})})]})})}function I(){const{data:n,setData:r,post:t,processing:d,errors:o,reset:c}=g({name:"",email:"",phone:"+62",password:"",password_confirmation:""});u.useEffect(()=>()=>{c("password","password_confirmation")},[]);const h=a=>/^\+62\d{9,15}$/.test(a);return s("form",{onSubmit:a=>{if(a.preventDefault(),!h(n.phone)){r("phone","+62"),S.warning("Masukkan nomor handphone yang valid dengan format Indonesia");return}t(route("register"))},children:[s("div",{children:[e(m,{htmlFor:"name",children:"Nama Lengkap"}),e(l,{id:"name",name:"name",value:n.name,className:"mt-1 block w-full",autoComplete:"name",autoFocus:!0,onChange:a=>r("name",a.target.value),required:!0}),e(i,{message:o.name,className:"mt-2"})]}),s("div",{className:"mt-4",children:[e(m,{htmlFor:"email",children:"Email"}),e(l,{id:"email",type:"email",name:"email",value:n.email,className:"mt-1 block w-full",autoComplete:"username",onChange:a=>r("email",a.target.value),required:!0}),e(i,{message:o.email,className:"mt-2"})]}),s("div",{className:"mt-4",children:[e(m,{htmlFor:"phone",children:"Nomor Handphone"}),e(L,{id:"phone",international:!0,defaultCountry:"ID",value:n.phone,onChange:a=>r("phone",a),required:!0}),e(i,{message:o.phone,className:"mt-2"})]}),s("div",{className:"mt-4",children:[e(m,{htmlFor:"password",children:"Password"}),e(l,{id:"password",type:"password",name:"password",value:n.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>r("password",a.target.value),required:!0}),e(i,{message:o.password,className:"mt-2"})]}),s("div",{className:"mt-4",children:[e(m,{htmlFor:"password_confirmation",children:"Confirm Password"}),e(l,{id:"password_confirmation",type:"password",name:"password_confirmation",value:n.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>r("password_confirmation",a.target.value),required:!0}),e(i,{message:o.password_confirmation,className:"mt-2"})]}),e("div",{className:"mt-4",children:e(p,{className:"w-full",disabled:d,type:"submit",children:"Register"})})]})}function Z(){const[n,r]=u.useState(!1),[t,d]=u.useState(!0);return s(v,{open:n,onOpenChange:r,children:[e(N,{asChild:!0,children:s(p,{variant:"default",onClick:()=>r(!0),children:[e(D,{className:"mr-2"})," Login / Register"]})}),s(b,{children:[s(C,{children:[e(k,{children:t?"Login":"Register"}),e(x,{children:t?"Silahkan Login dengan akun anda":"Silahkan daftarkan akun anda"})]}),t?e(F,{onClose:()=>r(!1)}):e(I,{}),e("div",{className:"mt-4 flex items-center justify-center",children:e(p,{variant:"link",onClick:()=>d(!t),children:t?"Belum punya akun? Register":"Sudah punya akun? Login"})})]})]})}export{Z as default};
