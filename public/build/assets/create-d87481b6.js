import{r as y,j as i,a as e,W as C,F,Y as N}from"./app-0f317af6.js";import{C as S,a as x,b as I,c as j,d as D,e as L}from"./card-ff3c36be.js";import{B as w}from"./button-6ee40647.js";import{L as v}from"./label-7df650fa.js";import{I as b}from"./input-c5df6010.js";import{I as g}from"./input-error-message-0a544363.js";import{c as A,a as R}from"./utils-ad603c53.js";import{J as V}from"./index-08ba5364.js";import{A as z}from"./admin-layout-8ea0c507.js";import{g as U}from"./index-573b9059.js";import{g as B,m as E}from"./image-4a55f714.js";import"./index-f96983da.js";import"./index-6e287385.js";import"./logo-4797a319.js";import"./sweetalert2.esm.all-6b8774ac.js";import"./scroll-area-ca1c4aa5.js";import"./index-18458df1.js";import"./index-ea564b3d.js";import"./avatar-88c83a50.js";import"./command-e42a0819.js";import"./dialog-6aa434fc.js";import"./sonner-1949a94e.js";import"./index-c10dc6c0.js";import"./sheet-9d0cc585.js";import"./dropdown-menu-06957853.js";import"./check-b066cda3.js";function J({className:c,onChange:a,accept:h,isMultiple:p}){const[l,n]=y.useState([]),u=d=>{const o=d.target.files||[];if(p){a(o);const t=[],s=r=>{if(r>=o.length){n(t);return}const m=new FileReader;m.onloadend=()=>{t.push(m.result),s(r+1)},m.readAsDataURL(o[r])};s(0)}else{const t=o[0]||null;if(a(t),t){const s=new FileReader;s.onloadend=()=>{n([s.result])},s.readAsDataURL(t)}else n([])}};return i("div",{className:A(c),children:[l.length>0&&l.map((d,o)=>i("div",{className:"relative rounded-lg",children:[e(B,{height:200,width:"100%",children:i(E.video,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},controls:!0,className:"max-h-sm w-full rounded-lg border object-cover object-center",children:[e("source",{src:d,type:"video/mp4"}),"Your browser does not support the video tag."]})}),e(w,{className:"absolute -right-3 -top-3 size-6 rounded-full",size:"icon",variant:"secondary",type:"button",onClick:()=>{const t=[...l];t.splice(o,1),n(t)},children:e(U,{className:"size-4"})})]},o)),e(b,{className:"mt-10 max-w-2xl file:text-foreground",onChange:u,accept:h,type:"file",multiple:p})]})}function P({auth:c,page_meta:a,page_data:h}){var s;const{data:p,setData:l,post:n,errors:u,processing:d}=C({video:null,title:((s=h.video)==null?void 0:s.title)??"",_method:a.method});function o(r){r.preventDefault(),n(a.url,{preserveScroll:!0,onSuccess:m=>{const f=R(m);f&&V[f.type](f.message)}})}function t(r){l(r.target.name,r.target.value)}return i(F,{children:[e(N,{title:a.title}),i(S,{children:[i(x,{children:[e(I,{children:a.title}),e(j,{children:a.description})]}),i("form",{onSubmit:o,children:[e(D,{children:i("div",{className:"space-y-6",children:[i("div",{className:"space-y-1",children:[e(v,{children:"Title"}),e(b,{name:"title",onChange:t,value:p.title}),e(g,{message:u.title})]}),i("div",{className:"max-w-sm space-y-1",children:[e(v,{children:"Video"}),e(J,{onChange:r=>l("video",r)}),e(g,{message:u.video})]})]})}),e(L,{children:e(w,{disabled:d,type:"submit",children:"Submit"})})]})]})]})}P.layout=c=>e(z,{title:c.props.page_meta.title,children:c});export{P as default};
