import{r as l,a as R,j as Se}from"./app-6fa01f51.js";import{d as Re,f as $e,$ as Ce,a as Ie}from"./index-f537e81f.js";import{$ as C}from"./index-3874097f.js";import{d as j}from"./utils-4ffb26b8.js";import{D as Ne,b as Ae}from"./dialog-509cddda.js";import{c as Me}from"./createLucideIcon-c5ae5a41.js";const De=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var me=1,_e=.9,Le=.8,je=.17,Y=.1,Q=.999,Ke=.9999,qe=.99,Fe=/[\\\/_+.#"@\[\(\{&]/,Pe=/[\\\/_+.#"@\[\(\{&]/g,Ve=/[\s-]/,he=/[\s-]/g;function ee(e,n,t,f,o,i,c){if(i===n.length)return o===e.length?me:qe;var p=`${o},${i}`;if(c[p]!==void 0)return c[p];for(var g=f.charAt(i),m=t.indexOf(g,o),d=0,v,S,k,$;m>=0;)v=ee(e,n,t,f,m+1,i+1,c),v>d&&(m===o?v*=me:Fe.test(e.charAt(m-1))?(v*=Le,k=e.slice(o,m-1).match(Pe),k&&o>0&&(v*=Math.pow(Q,k.length))):Ve.test(e.charAt(m-1))?(v*=_e,$=e.slice(o,m-1).match(he),$&&o>0&&(v*=Math.pow(Q,$.length))):(v*=je,o>0&&(v*=Math.pow(Q,m-o))),e.charAt(m)!==n.charAt(i)&&(v*=Ke)),(v<Y&&t.charAt(m-1)===f.charAt(i+1)||f.charAt(i+1)===f.charAt(i)&&t.charAt(m-1)!==f.charAt(i))&&(S=ee(e,n,t,f,m+1,i+2,c),S*Y>v&&(v=S*Y)),v>d&&(d=v),m=t.indexOf(g,m+1);return c[p]=d,d}function pe(e){return e.toLowerCase().replace(he," ")}function Ge(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,ee(e,n,pe(e),pe(n),0,0,{})}var F='[cmdk-group=""]',Z='[cmdk-group-items=""]',He='[cmdk-group-heading=""]',re='[cmdk-item=""]',ve=`${re}:not([aria-disabled="true"])`,te="cmdk-item-select",M="data-value",Ue=(e,n,t)=>Ge(e,n,t),ge=l.createContext(void 0),V=()=>l.useContext(ge),be=l.createContext(void 0),ne=()=>l.useContext(be),ye=l.createContext(void 0),we=l.forwardRef((e,n)=>{let t=L(()=>{var r,u;return{search:"",value:(u=(r=e.value)!=null?r:e.defaultValue)!=null?u:"",filtered:{count:0,items:new Map,groups:new Set}}}),f=L(()=>new Set),o=L(()=>new Map),i=L(()=>new Map),c=L(()=>new Set),p=xe(e),{label:g,children:m,value:d,onValueChange:v,filter:S,shouldFilter:k,loop:$,disablePointerSelection:G=!1,vimBindings:I=!0,...H}=e,le=l.useId(),ae=l.useId(),oe=l.useId(),N=l.useRef(null),b=et();D(()=>{if(d!==void 0){let r=d.trim();t.current.value=r,x.emit()}},[d]),D(()=>{b(6,ie)},[]);let x=l.useMemo(()=>({subscribe:r=>(c.current.add(r),()=>c.current.delete(r)),snapshot:()=>t.current,setState:(r,u,s)=>{var a,h,y;if(!Object.is(t.current[r],u)){if(t.current[r]=u,r==="search")W(),B(),b(1,T);else if(r==="value"&&(s||b(5,ie),((a=p.current)==null?void 0:a.value)!==void 0)){let E=u??"";(y=(h=p.current).onValueChange)==null||y.call(h,E);return}x.emit()}},emit:()=>{c.current.forEach(r=>r())}}),[]),O=l.useMemo(()=>({value:(r,u,s)=>{var a;u!==((a=i.current.get(r))==null?void 0:a.value)&&(i.current.set(r,{value:u,keywords:s}),t.current.filtered.items.set(r,ue(u,s)),b(2,()=>{B(),x.emit()}))},item:(r,u)=>(f.current.add(r),u&&(o.current.has(u)?o.current.get(u).add(r):o.current.set(u,new Set([r]))),b(3,()=>{W(),B(),t.current.value||T(),x.emit()}),()=>{i.current.delete(r),f.current.delete(r),t.current.filtered.items.delete(r);let s=K();b(4,()=>{W(),(s==null?void 0:s.getAttribute("id"))===r&&T(),x.emit()})}),group:r=>(o.current.has(r)||o.current.set(r,new Set),()=>{i.current.delete(r),o.current.delete(r)}),filter:()=>p.current.shouldFilter,label:g||e["aria-label"],disablePointerSelection:G,listId:le,inputId:oe,labelId:ae,listInnerRef:N}),[]);function ue(r,u){var s,a;let h=(a=(s=p.current)==null?void 0:s.filter)!=null?a:Ue;return r?h(r,t.current.search,u):0}function B(){if(!t.current.search||p.current.shouldFilter===!1)return;let r=t.current.filtered.items,u=[];t.current.filtered.groups.forEach(a=>{let h=o.current.get(a),y=0;h.forEach(E=>{let A=r.get(E);y=Math.max(A,y)}),u.push([a,y])});let s=N.current;q().sort((a,h)=>{var y,E;let A=a.getAttribute("id"),U=h.getAttribute("id");return((y=r.get(U))!=null?y:0)-((E=r.get(A))!=null?E:0)}).forEach(a=>{let h=a.closest(Z);h?h.appendChild(a.parentElement===h?a:a.closest(`${Z} > *`)):s.appendChild(a.parentElement===s?a:a.closest(`${Z} > *`))}),u.sort((a,h)=>h[1]-a[1]).forEach(a=>{let h=N.current.querySelector(`${F}[${M}="${encodeURIComponent(a[0])}"]`);h==null||h.parentElement.appendChild(h)})}function T(){let r=q().find(s=>s.getAttribute("aria-disabled")!=="true"),u=r==null?void 0:r.getAttribute(M);x.setState("value",u||void 0)}function W(){var r,u,s,a;if(!t.current.search||p.current.shouldFilter===!1){t.current.filtered.count=f.current.size;return}t.current.filtered.groups=new Set;let h=0;for(let y of f.current){let E=(u=(r=i.current.get(y))==null?void 0:r.value)!=null?u:"",A=(a=(s=i.current.get(y))==null?void 0:s.keywords)!=null?a:[],U=ue(E,A);t.current.filtered.items.set(y,U),U>0&&h++}for(let[y,E]of o.current)for(let A of E)if(t.current.filtered.items.get(A)>0){t.current.filtered.groups.add(y);break}t.current.filtered.count=h}function ie(){var r,u,s;let a=K();a&&(((r=a.parentElement)==null?void 0:r.firstChild)===a&&((s=(u=a.closest(F))==null?void 0:u.querySelector(He))==null||s.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function K(){var r;return(r=N.current)==null?void 0:r.querySelector(`${re}[aria-selected="true"]`)}function q(){var r;return Array.from((r=N.current)==null?void 0:r.querySelectorAll(ve))}function J(r){let u=q()[r];u&&x.setState("value",u.getAttribute(M))}function X(r){var u;let s=K(),a=q(),h=a.findIndex(E=>E===s),y=a[h+r];(u=p.current)!=null&&u.loop&&(y=h+r<0?a[a.length-1]:h+r===a.length?a[0]:a[h+r]),y&&x.setState("value",y.getAttribute(M))}function de(r){let u=K(),s=u==null?void 0:u.closest(F),a;for(;s&&!a;)s=r>0?Qe(s,F):Ze(s,F),a=s==null?void 0:s.querySelector(ve);a?x.setState("value",a.getAttribute(M)):X(r)}let ce=()=>J(q().length-1),se=r=>{r.preventDefault(),r.metaKey?ce():r.altKey?de(1):X(1)},fe=r=>{r.preventDefault(),r.metaKey?J(0):r.altKey?de(-1):X(-1)};return l.createElement(C.div,{ref:n,tabIndex:-1,...H,"cmdk-root":"",onKeyDown:r=>{var u;if((u=H.onKeyDown)==null||u.call(H,r),!r.defaultPrevented)switch(r.key){case"n":case"j":{I&&r.ctrlKey&&se(r);break}case"ArrowDown":{se(r);break}case"p":case"k":{I&&r.ctrlKey&&fe(r);break}case"ArrowUp":{fe(r);break}case"Home":{r.preventDefault(),J(0);break}case"End":{r.preventDefault(),ce();break}case"Enter":if(!r.nativeEvent.isComposing&&r.keyCode!==229){r.preventDefault();let s=K();if(s){let a=new Event(te);s.dispatchEvent(a)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:rt},g),z(e,r=>l.createElement(be.Provider,{value:x},l.createElement(ge.Provider,{value:O},r))))}),ze=l.forwardRef((e,n)=>{var t,f;let o=l.useId(),i=l.useRef(null),c=l.useContext(ye),p=V(),g=xe(e),m=(f=(t=g.current)==null?void 0:t.forceMount)!=null?f:c==null?void 0:c.forceMount;D(()=>{if(!m)return p.item(o,c==null?void 0:c.id)},[m]);let d=ke(o,i,[e.value,e.children,i],e.keywords),v=ne(),S=_(b=>b.value&&b.value===d.current),k=_(b=>m||p.filter()===!1?!0:b.search?b.filtered.items.get(o)>0:!0);l.useEffect(()=>{let b=i.current;if(!(!b||e.disabled))return b.addEventListener(te,$),()=>b.removeEventListener(te,$)},[k,e.onSelect,e.disabled]);function $(){var b,x;G(),(x=(b=g.current).onSelect)==null||x.call(b,d.current)}function G(){v.setState("value",d.current,!0)}if(!k)return null;let{disabled:I,value:H,onSelect:le,forceMount:ae,keywords:oe,...N}=e;return l.createElement(C.div,{ref:P([i,n]),...N,id:o,"cmdk-item":"",role:"option","aria-disabled":!!I,"aria-selected":!!S,"data-disabled":!!I,"data-selected":!!S,onPointerMove:I||p.disablePointerSelection?void 0:G,onClick:I?void 0:$},e.children)}),Oe=l.forwardRef((e,n)=>{let{heading:t,children:f,forceMount:o,...i}=e,c=l.useId(),p=l.useRef(null),g=l.useRef(null),m=l.useId(),d=V(),v=_(k=>o||d.filter()===!1?!0:k.search?k.filtered.groups.has(c):!0);D(()=>d.group(c),[]),ke(c,p,[e.value,e.heading,g]);let S=l.useMemo(()=>({id:c,forceMount:o}),[o]);return l.createElement(C.div,{ref:P([p,n]),...i,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},t&&l.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:m},t),z(e,k=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?m:void 0},l.createElement(ye.Provider,{value:S},k))))}),Be=l.forwardRef((e,n)=>{let{alwaysRender:t,...f}=e,o=l.useRef(null),i=_(c=>!c.search);return!t&&!i?null:l.createElement(C.div,{ref:P([o,n]),...f,"cmdk-separator":"",role:"separator"})}),Te=l.forwardRef((e,n)=>{let{onValueChange:t,...f}=e,o=e.value!=null,i=ne(),c=_(d=>d.search),p=_(d=>d.value),g=V(),m=l.useMemo(()=>{var d;let v=(d=g.listInnerRef.current)==null?void 0:d.querySelector(`${re}[${M}="${encodeURIComponent(p)}"]`);return v==null?void 0:v.getAttribute("id")},[]);return l.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),l.createElement(C.input,{ref:n,...f,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":m,id:g.inputId,type:"text",value:o?e.value:c,onChange:d=>{o||i.setState("search",d.target.value),t==null||t(d.target.value)}})}),We=l.forwardRef((e,n)=>{let{children:t,label:f="Suggestions",...o}=e,i=l.useRef(null),c=l.useRef(null),p=V();return l.useEffect(()=>{if(c.current&&i.current){let g=c.current,m=i.current,d,v=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let S=g.offsetHeight;m.style.setProperty("--cmdk-list-height",S.toFixed(1)+"px")})});return v.observe(g),()=>{cancelAnimationFrame(d),v.unobserve(g)}}},[]),l.createElement(C.div,{ref:P([i,n]),...o,"cmdk-list":"",role:"listbox","aria-label":f,id:p.listId},z(e,g=>l.createElement("div",{ref:P([c,p.listInnerRef]),"cmdk-list-sizer":""},g)))}),Je=l.forwardRef((e,n)=>{let{open:t,onOpenChange:f,overlayClassName:o,contentClassName:i,container:c,...p}=e;return l.createElement(Re,{open:t,onOpenChange:f},l.createElement($e,{container:c},l.createElement(Ce,{"cmdk-overlay":"",className:o}),l.createElement(Ie,{"aria-label":e.label,"cmdk-dialog":"",className:i},l.createElement(we,{ref:n,...p}))))}),Xe=l.forwardRef((e,n)=>_(t=>t.filtered.count===0)?l.createElement(C.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),Ye=l.forwardRef((e,n)=>{let{progress:t,children:f,label:o="Loading...",...i}=e;return l.createElement(C.div,{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},z(e,c=>l.createElement("div",{"aria-hidden":!0},c)))}),w=Object.assign(we,{List:We,Item:ze,Input:Te,Group:Oe,Separator:Be,Dialog:Je,Empty:Xe,Loading:Ye});function Qe(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function Ze(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function xe(e){let n=l.useRef(e);return D(()=>{n.current=e}),n}var D=typeof window>"u"?l.useEffect:l.useLayoutEffect;function L(e){let n=l.useRef();return n.current===void 0&&(n.current=e()),n}function P(e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}function _(e){let n=ne(),t=()=>e(n.snapshot());return l.useSyncExternalStore(n.subscribe,t,t)}function ke(e,n,t,f=[]){let o=l.useRef(),i=V();return D(()=>{var c;let p=(()=>{var m;for(let d of t){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(m=d.current.textContent)==null?void 0:m.trim():o.current}})(),g=f.map(m=>m.trim());i.value(e,p,g),(c=n.current)==null||c.setAttribute(M,p),o.current=p}),o}var et=()=>{let[e,n]=l.useState(),t=L(()=>new Map);return D(()=>{t.current.forEach(f=>f()),t.current=new Map},[e]),(f,o)=>{t.current.set(f,o),n({})}};function tt(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function z({asChild:e,children:n},t){return e&&l.isValidElement(n)?l.cloneElement(tt(n),{ref:n.ref},t(n.props.children)):t(n)}var rt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ee=l.forwardRef(({className:e,...n},t)=>R(w,{ref:t,className:j("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));Ee.displayName=w.displayName;const vt=({children:e,...n})=>R(Ne,{...n,children:R(Ae,{className:"overflow-hidden p-0 shadow-lg",children:R(Ee,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),nt=l.forwardRef(({className:e,...n},t)=>Se("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[R(De,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),R(w.Input,{ref:t,className:j("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));nt.displayName=w.Input.displayName;const lt=l.forwardRef(({className:e,...n},t)=>R(w.List,{ref:t,className:j("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));lt.displayName=w.List.displayName;const at=l.forwardRef((e,n)=>R(w.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));at.displayName=w.Empty.displayName;const ot=l.forwardRef(({className:e,...n},t)=>R(w.Group,{ref:t,className:j("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));ot.displayName=w.Group.displayName;const ut=l.forwardRef(({className:e,...n},t)=>R(w.Separator,{ref:t,className:j("-mx-1 h-px bg-border",e),...n}));ut.displayName=w.Separator.displayName;const it=l.forwardRef(({className:e,...n},t)=>R(w.Item,{ref:t,className:j("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",e),...n}));it.displayName=w.Item.displayName;export{vt as C,nt as a,lt as b,it as c,Ee as d,at as e,ot as f};
