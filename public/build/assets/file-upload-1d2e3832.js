import{r as w,j as c,a}from"./app-6fa01f51.js";import{i as u}from"./index-e3a1bf56.js";import{d as b}from"./utils-4ffb26b8.js";import{B as f}from"./button-e2307a57.js";import{I as N}from"./input-d284db37.js";import{I as p}from"./image-5db51842.js";function x({className:v,onChange:d,accept:g,isMultiple:m}){const[l,t]=w.useState(null),h=o=>{const r=o.target.files||[];if(m){d(r),new FileReader;const e=[],s=n=>{if(n>=r.length){t(e);return}const i=new FileReader;i.onloadend=()=>{e.push(i.result),s(n+1)},i.readAsDataURL(r[n])};s(0)}else{const e=r[0]||null;if(d(e),e){const s=new FileReader;s.onloadend=()=>{t(s.result)},s.readAsDataURL(e)}else t(null)}};return c("div",{className:b(v),children:[Array.isArray(l)?l.map((o,r)=>c("div",{className:"relative rounded-lg",children:[a(p,{src:String(o),alt:"Preview",className:"max-h-96 w-full rounded-lg border object-cover object-center"}),a(f,{className:"absolute -right-3 -top-3 size-6 rounded-full",size:"icon",variant:"secondary",type:"button",onClick:()=>{const e=[...l];e.splice(r,1),t(e)},children:a(u,{className:"size-4"})})]},r)):l?c("div",{className:"relative rounded-lg",children:[a(p,{src:String(l),alt:"Preview",className:"max-h-96 w-full rounded-lg border object-cover object-center"}),a(f,{className:"absolute -right-3 -top-3 size-6 rounded-full",size:"icon",variant:"secondary",type:"button",onClick:()=>t(null),children:a(u,{className:"size-4"})})]}):null,a(N,{className:"mt-2 max-w-[14rem] file:text-foreground",onChange:h,accept:g,type:"file",multiple:m})]})}export{x as F};
