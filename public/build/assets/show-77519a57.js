import{r as x,j as t,F as h,a as l,b as P,Y as y}from"./app-0f317af6.js";import{d as r,b as B}from"./utils-ad603c53.js";import{B as f}from"./button-6ee40647.js";import{L as C}from"./layout-5ecf09b5.js";import{C as i,a as o,b as c,c as N,d as m}from"./card-ff3c36be.js";import S from"./booking-create-payment-560d4914.js";import"./index-f96983da.js";import"./logo-4797a319.js";import"./sweetalert2.esm.all-6b8774ac.js";import"./image-4a55f714.js";import"./index-573b9059.js";import"./avatar-88c83a50.js";import"./index-18458df1.js";import"./index-6e287385.js";import"./command-e42a0819.js";import"./dialog-6aa434fc.js";import"./sheet-9d0cc585.js";import"./dropdown-menu-06957853.js";import"./index-ea564b3d.js";import"./check-b066cda3.js";import"./label-7df650fa.js";import"./input-c5df6010.js";function D({booking:a,remaining_payment:n}){var u;const[v,d]=x.useState(!1),b=e=>{window.snap.pay(e,{onSuccess:function(s){console.log(s)},onPending:function(s){console.log(s)},onError:function(s){console.log(s)},onClose:function(){console.log("Payment popup closed")}})},p=a.payments&&a.payments.length>0,g=a.payments.some(e=>e.status==="pending");return t(h,{children:[l(P,{className:"border border-gray-300 rounded px-4 py-2 mb-5 inline-block",href:route("bookings.index"),children:"Kembali"}),l(S,{openPaymentBookingDialog:v,setOpenPaymentBookingDialog:d,booking:a,remaining_payment:n}),l(y,{title:`${a.invoice} - Booking Details`}),t(i,{children:[t(o,{children:[t(c,{className:"text-2xl font-bold",children:["BOOKING #",a.invoice]}),t(N,{className:"text-sm",children:["Informasi detail terkait pemesanan ",a.package.name]})]}),t(m,{className:"border-t p-0",children:[a&&t("div",{className:"mb-5 mt-5 px-10",children:[l("h2",{className:"mb-4 text-lg font-semibold",children:"Detail Paket"}),l("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Nama Pemesan",value:a.user.name},{label:"Email",value:a.user.email},{label:"Nomor Telpon",value:a.user.phone},{label:"Nama Paket",value:a.package.name},{label:"Kategori",value:(u=a.package.category)==null?void 0:u.name},{label:"Harga",value:r(a.package.price)},{label:"Invoice",value:a.invoice},{label:"Jumlah Peserta",value:a.qty},{label:"Sisa Pembayaran",value:r(parseInt(n))},{label:"Total",value:r(parseInt(a.amount))},{label:"Status Booking",value:a.status}].map((e,s)=>t("div",{children:[l("p",{className:"text-sm",children:e.label}),l("p",{className:"font-semibold",children:e.value})]},s))})]}),l("div",{className:"space-y-4 p-5",children:p?a.payments.map(e=>t(i,{className:"bg-gray-200",children:[t(o,{children:[t(c,{className:"text-lg font-bold",children:["Pembayaran ",e.amount?r(e.amount):"-"]}),l(N,{children:e.created_at?B(e.created_at):"-"})]}),t(m,{children:[t("div",{className:"mb-2",children:[l("p",{className:"font-semibold",children:e.id}),t("p",{children:["Metode: ",e.method,", ",e.type]}),t("p",{children:["Jumlah: ",e.amount?r(e.amount):"-"]}),t("p",{children:["Status: ",e.status]})]}),e.status==="pending"&&e.snap_token&&l(f,{onClick:()=>b(e.snap_token),className:"mt-2",children:"Bayar Sekarang"})]})]},e.id)):l(h,{})}),n>0&&!g&&l("div",{className:"p-5 text-center",children:t(i,{className:"bg-gray-200",children:[l(o,{children:l(c,{className:"text-lg font-bold"})}),l(m,{className:"text-center",children:l(f,{variant:"default",className:"mb-2 ml-2 text-sm",onClick:()=>d(!0),children:p?"Lunasi Sisa Pembayaran":"Buat Pembayaran"})})]})})]})]})]})}D.layout=a=>l(C,{children:a});export{D as default};
