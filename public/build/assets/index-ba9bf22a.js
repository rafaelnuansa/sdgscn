import{q as b,r as D,j as r,a as e,b as I,d as l,F as x,y as u}from"./app-6fa01f51.js";import{C as A,a as P,b as k,d as _,e as F}from"./card-9f486e91.js";import{T as M,a as j,b as y,c as n,d as z,e as c}from"./table-910a4cca.js";import{A as H}from"./admin-layout-fca79991.js";import{c as R,b as B}from"./utils-4ffb26b8.js";import{B as m}from"./button-e2307a57.js";import{S as V,a as L,b as E,c as G,d as N}from"./select-1fa85c02.js";import{D as q,a as O,b as $,c as J,d as w,e as i,f as K}from"./dropdown-menu-abbb3a18.js";import{c as Q,n as U,o as W,p as X,m as Y,a as Z,d as ee,e as ae}from"./index-e3a1bf56.js";import{I as re}from"./image-5db51842.js";import{I as te}from"./input-d284db37.js";import{u as ie}from"./useFilter-52701a51.js";import{A as g}from"./alert-action-54ac0550.js";import{T as le}from"./toggle-7109bfd3.js";import"./logo-5f9b324f.js";import"./sweetalert2.all-079bc42e.js";import"./scroll-area-2d3c3a5b.js";import"./extends-98964cd2.js";import"./index-3874097f.js";import"./index-f537e81f.js";import"./index-46991544.js";import"./index-465903ca.js";import"./LazyLoad-ee4defa4.js";import"./avatar-2fbb423b.js";import"./command-b0fd3b12.js";import"./dialog-509cddda.js";import"./createLucideIcon-c5ae5a41.js";import"./sonner-7bbb8c5e.js";import"./index-8fab0536.js";import"./index-afa7d38e.js";import"./sheet-6a6b4bec.js";import"./index-f96983da.js";import"./label-081f6f63.js";import"./check-b59271b0.js";import"./index-4b60d59b.js";import"./lodash-0519b56f.js";import"./alert-dialog-4b58ff09.js";function Oe({auth:se,...f}){const{data:C,meta:o,links:d}=f.packages,{categories:S}=b().props,T=()=>{h(a=>({...a,onlyTrashed:!a.onlyTrashed}))},[t,h]=D.useState(f.state);return ie({route:route("admin.packages.index"),values:t,only:["packages"]}),r(H,{children:[e(I,{title:"Packages"}),r(A,{children:[r("div",{className:"flex flex-col justify-between gap-y-6 p-6 md:flex-row md:items-center md:gap-y-0",children:[e(P,{className:"p-0",children:e(k,{children:t.onlyTrashed?"Deleted Packages":"Packages"})}),r("div",{className:"flex gap-2",children:[e(te,{value:t==null?void 0:t.search,onChange:a=>h(p=>({...p,search:a.target.value})),placeholder:"Search..."}),r("div",{className:"flex gap-2",children:[r(V,{value:t==null?void 0:t.category,onValueChange:a=>h({...t,category:a}),children:[e(L,{className:"md:w-40",children:e(E,{placeholder:(t==null?void 0:t.category)??""})}),r(G,{children:[e(N,{children:"All Categories"}),S.map(a=>e(N,{value:a.slug,children:a.name},a.id))]})]}),e(m,{asChild:!0,children:r(l,{href:route("admin.packages.create"),children:[e(Q,{className:"mr-2 size-4"}),"New"]})}),r(le,{onClick:T,children:[e(U,{className:"mr-2 h-4 w-4"}),t.onlyTrashed?"Back":"Trash"]})]})]})]}),e(_,{className:"p-0 [&_td]:whitespace-nowrap [&_td]:px-6 [&_th]:px-6 [&_thead]:border-t",children:r(M,{children:[e(j,{children:r(y,{children:[e(n,{children:"#"}),e(n,{children:"Package"}),e(n,{children:"Category"}),e(n,{children:"Created At"}),e(n,{})]})}),e(z,{children:C.map((a,p)=>r(y,{children:[e(c,{children:o.from+p}),e(c,{className:"min-w-32",children:r("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0 w-32",children:e(re,{skeletonHeight:"40",className:"h-full w-full object-cover rounded",src:`/images/${a.image}`})}),r("div",{className:"ml-4",children:[e("p",{className:"font-semibold",children:a.name}),r("span",{className:"flex gap-1 text-xs items-center",children:[e(W,{className:"w-3"})," ",R(a.price)]}),r("span",{className:"flex gap-1 text-xs space-y-0 items-center",children:[e(X,{className:"w-3"}),a.day," Days"]}),e("div",{className:"flex items-center",children:[...Array(5)].map((s,v)=>e(Y,{width:10,className:v<a.rate?"fill-current text-yellow-500":"text-gray-300"},v))})]})]})}),e(c,{children:a.category.name}),e(c,{children:B(a.created_at)}),e(c,{children:e("div",{className:"flex justify-end",children:r(q,{children:[e(O,{children:r(m,{variant:"outline",size:"icon",children:["  ",e(Z,{className:"size-4"})]})}),r($,{align:"end",className:"w-48",children:[e(J,{children:"Actions"}),e(w,{}),!t.onlyTrashed&&r(x,{children:[e(i,{children:r(l,{href:route("admin.packages.hotels.index",[a]),children:[a.hotels_count??0,"  Hotels"]})}),e(i,{children:r(l,{href:route("admin.packages.itineraries.index",a.id),children:[a.itineraries_count??0," Itineraries"]})}),e(i,{asChild:!0,children:e(l,{href:route("admin.packages.galleries.index",[a]),children:"Galleries"})}),e(i,{asChild:!0,children:e(l,{href:route("admin.packages.videos.index",[a]),children:"Videos"})}),e(i,{asChild:!0}),e(i,{asChild:!0,children:e(l,{href:route("admin.packages.edit",[a]),children:"Edit"})}),r(K,{children:[e(w,{}),e(g,{trigger:e(i,{onSelect:s=>s.preventDefault(),children:"Delete"}),title:"Delete Package",description:"Are you sure you want to delete this Package?",action:()=>u.delete(route("admin.packages.destroy",[a]),{preserveScroll:!0})})]})]}),t.onlyTrashed&&r(x,{children:[e(i,{asChild:!0,children:e(g,{trigger:e(i,{onSelect:s=>s.preventDefault(),children:"Restore"}),title:"Restore "+a.name,description:"Are you sure you want to restore this Package?",action:()=>u.put(route("admin.packages.restore",[a]),{preserveScroll:!0})})}),e(i,{asChild:!0,children:e(g,{trigger:e(i,{onSelect:s=>s.preventDefault(),children:"Force Delete"}),title:"Force Delete",description:"Force delete this package? This action will permanently delete the package and all associated data, including bookings, payments, and others. This cannot be undone.",action:()=>u.delete(route("admin.packages.force",[a]),{preserveScroll:!0})})})]})]})]})})})]},a.id))})]})}),r(F,{className:"justify-between border-t pt-6 text-sm text-muted-foreground",children:[r("span",{children:["Showing ",o.from," of ",o.total]}),o.has_pages&&r("div",{className:"flex items-center gap-x-1",children:[e(m,{asChild:!0,size:"sm",variant:"outline",children:d.prev?r(l,{href:d.prev,children:[e(ee,{className:"-ml-1 mr-1 size-4"}),"Prev"]}):e("span",{children:"Prev"})}),e(m,{asChild:!0,size:"sm",variant:"outline",children:d.next?r(l,{href:d.next,children:["Next",e(ae,{className:"-mr-1 ml-1 size-4"})]}):e("span",{children:"Next"})})]})]})]})]})}export{Oe as default};
