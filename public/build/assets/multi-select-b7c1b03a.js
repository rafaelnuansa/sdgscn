import{r as m,a as r,j as s,F as L}from"./app-63e7952b.js";import{c as X}from"./index-f96983da.js";import{c as i}from"./utils-2190c141.js";import{P as _}from"./index-77ca3b3c.js";import{B as W}from"./button-23f7c2f7.js";import{B as S}from"./badge-bbaa2742.js";import{P as G,a as U,b as H}from"./popover-5ae7021f.js";import{d as J,a as Q,b as Y,e as Z,f as C,c as v,g as ee}from"./command-df4ffff9.js";import{c as E}from"./index-c2a46114.js";import{X as re}from"./dialog-ce1b28eb.js";import{C as P}from"./chevron-down-282b44d2.js";import{b as j}from"./check-50ecf4a6.js";const te=E("Wand",[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h0",key:"kg5t1u"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]]),M=E("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var ae="Separator",O="horizontal",se=["horizontal","vertical"],z=m.forwardRef((n,o)=>{const{decorative:c,orientation:d=O,...u}=n,l=ne(d)?d:O,y=c?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return r(_.div,{"data-orientation":l,...y,...u,ref:o})});z.displayName=ae;function ne(n){return se.includes(n)}var A=z;const w=m.forwardRef(({className:n,orientation:o="horizontal",decorative:c=!0,...d},u)=>r(A,{ref:u,decorative:c,orientation:o,className:i("shrink-0 bg-border",o==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...d}));w.displayName=A.displayName;const I=X("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),oe=m.forwardRef(({options:n,onValueChange:o,variant:c,defaultValue:d=[],placeholder:u="Select options",animation:l=0,maxCount:h=3,modalPopover:y=!1,asChild:le=!1,className:T,...D},R)=>{const[a,p]=m.useState(d),[V,f]=m.useState(!1),[b,B]=m.useState(!1),$=e=>{if(e.key==="Enter")f(!0);else if(e.key==="Backspace"&&!e.currentTarget.value){const t=[...a];t.pop(),p(t),o(t)}},k=e=>{const t=a.includes(e)?a.filter(g=>g!==e):[...a,e];p(t),o(t)},x=()=>{p([]),o([])},q=()=>{f(e=>!e)},F=()=>{const e=a.slice(0,h);p(e),o(e)},K=()=>{if(a.length===n.length)x();else{const e=n.map(t=>t.value);p(e),o(e)}};return s(G,{open:V,onOpenChange:f,modal:y,children:[r(U,{ref:R,...D,onClick:q,className:i("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit",T),asChild:!0,children:r(W,{children:a.length>0?s("div",{className:"flex justify-between items-center w-full",children:[s("div",{className:"flex flex-wrap items-center",children:[a.slice(0,h).map(e=>{const t=n.find(N=>N.value===e),g=t==null?void 0:t.icon;return s(S,{className:i(b?"animate-bounce":"",I({variant:c})),style:{animationDuration:`${l}s`},children:[g&&r(g,{className:"h-4 w-4 mr-2"}),t==null?void 0:t.label,r(M,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:N=>{N.stopPropagation(),k(e)}})]},e)}),a.length>h&&s(S,{className:i("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",b?"animate-bounce":"",I({variant:c})),style:{animationDuration:`${l}s`},children:[`+ ${a.length-h} more`,r(M,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:e=>{e.stopPropagation(),F()}})]})]}),s("div",{className:"flex items-center justify-between",children:[r(re,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:e=>{e.stopPropagation(),x()}}),r(w,{orientation:"vertical",className:"flex min-h-6 h-full"}),r(P,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):s("div",{className:"flex items-center justify-between w-full mx-auto",children:[r("span",{className:"text-sm text-muted-foreground mx-3",children:u}),r(P,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),r(H,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>f(!1),children:s(J,{children:[r(Q,{placeholder:"Search...",onKeyDown:$}),s(Y,{children:[r(Z,{children:"No results found."}),s(C,{children:[s(v,{onSelect:K,className:"cursor-pointer",children:[r("div",{className:i("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",a.length===n.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:r(j,{className:"h-4 w-4"})}),r("span",{children:"(Select All)"})]},"all"),n.map(e=>{const t=a.includes(e.value);return s(v,{onSelect:()=>k(e.value),className:"cursor-pointer",children:[r("div",{className:i("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:r(j,{className:"h-4 w-4"})}),e.icon&&r(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r("span",{children:e.label})]},e.value)})]}),r(ee,{}),r(C,{children:s("div",{className:"flex items-center justify-between",children:[a.length>0&&s(L,{children:[r(v,{onSelect:x,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),r(w,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),r(v,{onSelect:()=>f(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),l>0&&a.length>0&&r(te,{className:i("cursor-pointer my-2 text-foreground",b?"animate-spin":""),onClick:()=>B(e=>!e)})]})});oe.displayName="MultiSelect";export{oe as M};
