import{q as V,r as p,W as k,j as r,F as D,a as e,Y as j,y as S}from"./app-0f317af6.js";import{B as u}from"./button-6ee40647.js";import{C as h,a as f,b as w,c as v,d as g}from"./card-ff3c36be.js";import{I as l}from"./input-c5df6010.js";import{L as t}from"./label-7df650fa.js";import{A as L}from"./admin-layout-8ea0c507.js";import{I as n}from"./input-error-e6ab64e8.js";import{P as R}from"./phone-input-a062bac7.js";import"./index-f96983da.js";import"./utils-ad603c53.js";import"./index-6e287385.js";import"./logo-4797a319.js";import"./sweetalert2.esm.all-6b8774ac.js";import"./image-4a55f714.js";import"./scroll-area-ca1c4aa5.js";import"./index-18458df1.js";import"./index-ea564b3d.js";import"./index-573b9059.js";import"./avatar-88c83a50.js";import"./command-e42a0819.js";import"./dialog-6aa434fc.js";import"./sonner-1949a94e.js";import"./index-c10dc6c0.js";import"./index-08ba5364.js";import"./sheet-9d0cc585.js";import"./dropdown-menu-06957853.js";import"./check-b066cda3.js";import"./index-0193708b.js";import"./index-8d94046a.js";import"./popover-823b8481.js";function Y(){const{props:d}=V(),{profile:m}=d,C=p.useRef(),N=p.useRef(),[_,b]=p.useState(!1),{data:o,setData:i,errors:s,put:P,reset:c,processing:y}=k({name:m.name||"",phone:m.phone||"",email:m.email||"",current_password:"",password:"",password_confirmation:""}),x=a=>{a.preventDefault(),P(route("admin.profile.updatePassword"),{preserveScroll:!0,onSuccess:()=>c(),onError:E=>{E.password&&(c("password","password_confirmation"),C.current.focus()),E.current_password&&(c("current_password"),N.current.focus())}})},I=a=>{a.preventDefault(),P(route("admin.profile.update"),{preserveScroll:!0,onSuccess:()=>S.visit(route("admin.profile.index"),{method:"get"})})},F=()=>{S.post(route("admin.profile.sendVerificationEmail"),{},{onSuccess:()=>b(!0)})};return r(D,{children:[e(j,{title:"Profile"}),r("div",{className:"space-y-5",children:[!m.email_verified_at&&r(h,{children:[r(f,{children:[e(w,{children:"Email Verification"}),e(v,{children:"Your Email is not verified, Please Confirm Your Email"})]}),e(g,{children:e("div",{children:e(u,{onClick:F,disabled:_,children:_?"Verification Email Sent":"Resend Verification Email"})})})]}),r(h,{children:[r(f,{children:[e(w,{children:"Edit Profile"}),e(v,{children:"Edit Profile information"})]}),e(g,{children:r("form",{onSubmit:I,className:"space-y-6",children:[r("div",{children:[e(t,{htmlFor:"name",children:"Name"}),e(l,{id:"name",value:o.name,onChange:a=>i("name",a.target.value),type:"text",className:"mt-1 block w-full"}),e(n,{message:s.name,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"phone",children:"Phone"}),e(R,{id:"phone",international:!0,defaultCountry:"ID",value:o.phone,onChange:a=>i("phone",a),required:!0}),e(n,{message:s.phone,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"email",children:"Email"}),e(l,{id:"email",value:o.email,onChange:a=>i("email",a.target.value),type:"email",className:"mt-1 block w-full"}),e(n,{message:s.email,className:"mt-2"})]}),e("div",{className:"flex items-center gap-4",children:e(u,{disabled:y,children:"Save"})})]})})]}),r(h,{children:[r(f,{children:[e(w,{children:"Change Password"}),e(v,{children:"Change your account password"})]}),e(g,{children:r("form",{onSubmit:x,className:"space-y-6",children:[r("div",{children:[e(t,{htmlFor:"current_password",children:"Password"}),e(l,{id:"current_password",ref:N,value:o.current_password,onChange:a=>i("current_password",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password"}),e(n,{message:s.current_password,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"password",children:"New Password"}),e(l,{id:"password",ref:C,value:o.password,onChange:a=>i("password",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(n,{message:s.password,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"password_confirmation",children:"Confirm Password"}),e(l,{id:"password_confirmation",value:o.password_confirmation,onChange:a=>i("password_confirmation",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(n,{message:s.password_confirmation,className:"mt-2"})]}),e("div",{className:"flex items-center gap-4",children:e(u,{disabled:y,children:"Save"})})]})})]})]})]})}Y.layout=d=>e(L,{children:d});export{Y as default};
