import{r as o,a as d}from"./app-0f317af6.js";import{d as R,g as x,h as g}from"./index-18458df1.js";import{P as u}from"./index-6e287385.js";import{c as f}from"./utils-ad603c53.js";var m="Avatar",[C,j]=R(m),[_,p]=C(m),A=o.forwardRef((a,t)=>{const{__scopeAvatar:e,...r}=a,[s,n]=o.useState("idle");return d(_,{scope:e,imageLoadingStatus:s,onImageLoadingStatusChange:n,children:d(u.span,{...r,ref:t})})});A.displayName=m;var w="AvatarImage",S=o.forwardRef((a,t)=>{const{__scopeAvatar:e,src:r,onLoadingStatusChange:s=()=>{},...n}=a,i=p(w,e),l=b(r),c=x(v=>{s(v),i.onImageLoadingStatusChange(v)});return g(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?d(u.img,{...n,ref:t,src:r}):null});S.displayName=w;var N="AvatarFallback",L=o.forwardRef((a,t)=>{const{__scopeAvatar:e,delayMs:r,...s}=a,n=p(N,e),[i,l]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&n.imageLoadingStatus!=="loaded"?d(u.span,{...s,ref:t}):null});L.displayName=N;function b(a){const[t,e]=o.useState("idle");return g(()=>{if(!a){e("error");return}let r=!0;const s=new window.Image,n=i=>()=>{r&&e(i)};return e("loading"),s.onload=n("loaded"),s.onerror=n("error"),s.src=a,()=>{r=!1}},[a]),t}var h=A,y=S,I=L;const k=o.forwardRef(({className:a,...t},e)=>d(h,{ref:e,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));k.displayName=h.displayName;const E=o.forwardRef(({className:a,...t},e)=>d(y,{ref:e,className:f("aspect-square h-full w-full",a),...t}));E.displayName=y.displayName;const M=o.forwardRef(({className:a,...t},e)=>d(I,{ref:e,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));M.displayName=I.displayName;export{k as A,E as a,M as b};
