import{q as I,W as C,r as n,j as t,a as e,b as P,d as S,y as g}from"./app-6fa01f51.js";import{A as y}from"./admin-layout-fca79991.js";import{I as u}from"./image-5db51842.js";import{P as D,a as A,b as F}from"./popover-56e5c94b.js";import{C as j,a as _,b as B,c as G,d as L}from"./card-9f486e91.js";import"./label-081f6f63.js";import{b as R,B as h}from"./button-e2307a57.js";import{b as T}from"./index-e3a1bf56.js";import{I as $}from"./input-d284db37.js";import{A as q}from"./alert-action-54ac0550.js";import"./logo-5f9b324f.js";import"./sweetalert2.all-079bc42e.js";import"./utils-4ffb26b8.js";import"./scroll-area-2d3c3a5b.js";import"./extends-98964cd2.js";import"./index-3874097f.js";import"./index-f537e81f.js";import"./index-46991544.js";import"./index-465903ca.js";import"./LazyLoad-ee4defa4.js";import"./avatar-2fbb423b.js";import"./command-b0fd3b12.js";import"./dialog-509cddda.js";import"./createLucideIcon-c5ae5a41.js";import"./sonner-7bbb8c5e.js";import"./index-8fab0536.js";import"./index-afa7d38e.js";import"./sheet-6a6b4bec.js";import"./index-f96983da.js";import"./dropdown-menu-abbb3a18.js";import"./check-b59271b0.js";import"./alert-dialog-4b58ff09.js";function be({...f}){const{images:v,package:o,processing:c,errors:i}=I().props,{setData:b,post:N,processing:p,errors:s}=C(),[k,d]=n.useState(0),l=n.useRef(null);n.useState(f.state);const x=a=>{const r=a.target.files;b("images",r),d(r.length)},w=a=>{a.preventDefault();const r=new FormData;for(let m=0;m<k;m++)r.append("images[]",a.target.images[m]);N(route("admin.packages.galleries.store",{package:o}),r,{onError:m=>{console.error(m)},onSuccess:()=>{g.visit(route("admin.packages.galleries.index",{package:o}),{method:"get"})}}),l.current&&(l.current.value=""),d(0)};return t(y,{children:[e(P,{title:"Galleries"}),e("div",{className:"form-group flex gap-2",children:t(S,{className:R({variant:"outline",size:"sm"})+" mb-4",href:route("admin.packages.index"),children:[e(T,{className:"mr-1"})," Back to List"]})}),t(j,{children:[t(_,{children:[t(B,{children:[o.name," Images"]}),t(G,{children:["Images Gallery Package ",o.name]})]}),t(L,{className:"p-0 [&_td]:whitespace-nowrap [&_td]:px-6 [&_th]:px-6 [&_thead]:border-t",children:[e("div",{className:"p-10 border-b border-t",children:e("form",{onSubmit:w,children:t("div",{className:"form-group flex gap-2",children:[e($,{ref:l,className:"max-w-sm",type:"file",id:"fileInput",name:"images",multiple:!0,onChange:x}),e(h,{type:"submit",variant:"outline",disabled:c||p,children:c||p?"Processing...":"Submit"}),(i==null?void 0:i.images)&&e("p",{className:"text-red-500",children:i==null?void 0:i.images}),(s==null?void 0:s.images)&&e("p",{className:"text-red-500",children:s==null?void 0:s.images})]})})}),e("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-2 p-5",children:v.map(a=>t(D,{children:[e(A,{className:"cursor-pointer",children:e(u,{src:`/storage/images/${a.image}`,alt:a.image,className:"w-full border h-auto rounded-lg shadow-lg hover:shadow-lg transition-shadow duration-200",objectFit:"cover"})}),t(F,{children:[e(u,{src:`/storage/images/${a.image}`,alt:a.image,className:"w-full h-auto rounded-md mb-4",objectFit:"cover"}),e(q,{trigger:e(h,{variant:"destructive",className:"w-full",onSelect:r=>r.preventDefault(),children:"Delete"}),title:"Delete Package Image",description:"Are you sure you want to permanent delete this Image?",action:()=>g.delete(route("admin.packages.galleries.destroy",{package:o.id,image:a.id}),{preserveScroll:!0})})]})]},a.id))})]})]})]})}export{be as default};
