import{q as x,W as w,r as N,j as a,d as y,a as e,y as C}from"./app-6fa01f51.js";import{A as I}from"./admin-layout-fca79991.js";import{I as d}from"./image-5db51842.js";import{P as D,a as P,b as S}from"./popover-56e5c94b.js";import{C as j,d as A,a as F,b as _,c as k}from"./card-9f486e91.js";import{b as B,B as c}from"./button-e2307a57.js";import{b as L}from"./index-e3a1bf56.js";import{I as G}from"./input-d284db37.js";import{A as H}from"./alert-action-54ac0550.js";import"./logo-5f9b324f.js";import"./sweetalert2.all-079bc42e.js";import"./utils-4ffb26b8.js";import"./scroll-area-2d3c3a5b.js";import"./extends-98964cd2.js";import"./index-3874097f.js";import"./index-f537e81f.js";import"./index-46991544.js";import"./index-465903ca.js";import"./LazyLoad-ee4defa4.js";import"./avatar-2fbb423b.js";import"./command-b0fd3b12.js";import"./dialog-509cddda.js";import"./createLucideIcon-c5ae5a41.js";import"./sonner-7bbb8c5e.js";import"./index-8fab0536.js";import"./index-afa7d38e.js";import"./sheet-6a6b4bec.js";import"./index-f96983da.js";import"./dropdown-menu-abbb3a18.js";import"./check-b59271b0.js";import"./label-081f6f63.js";import"./alert-dialog-4b58ff09.js";function fe(){const{galleries:p,album:l,processing:m,errors:s}=x().props,{setData:g,post:u,processing:n,errors:i}=w(),[f,h]=N.useState(0),b=t=>{const r=t.target.files;g("images",r),h(r.length)},v=t=>{t.preventDefault();const r=new FormData;for(let o=0;o<f;o++)r.append("images[]",t.target.images[o]);u(route("admin.albums.gallery.store",{album:l}),r,{onError:o=>{console.error(o)}})};return a(I,{children:[a(y,{className:B({variant:"outline",size:"sm"})+" mb-4",href:route("admin.albums.index"),children:[e(L,{className:"mr-1"})," Back to List"]}),e(j,{children:a(A,{className:"p-0 [&_td]:whitespace-nowrap [&_td]:px-6 [&_th]:px-6 [&_thead]:border-t",children:[a("div",{className:"flex flex-col justify-between gap-y-6 p-6 md:flex-row md:items-center md:gap-y-0",children:[a(F,{className:"p-0",children:[a(_,{children:[l.name," Images"]}),a(k,{children:["Images Gallery Hotes `",l.name,"`"]})]}),e("div",{className:"flex max-w-md flex-col gap-2 md:flex-row"})]}),e("div",{className:"p-10 border-b border-t",children:e("form",{onSubmit:v,children:a("div",{className:"form-group flex justify-between",children:[e(G,{className:"max-w-sm",type:"file",id:"fileInput",name:"images",multiple:!0,onChange:b}),e(c,{type:"submit",variant:"default",disabled:m||n,children:m||n?"Processing...":"Submit"}),(s==null?void 0:s.images)&&e("p",{className:"text-red-500",children:s==null?void 0:s.images}),(i==null?void 0:i.images)&&e("p",{className:"text-red-500",children:i==null?void 0:i.images})]})})}),e("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-2 p-5",children:p.map(t=>a(D,{children:[e(P,{className:"cursor-pointer",children:e(d,{src:`/storage/albums/${t.image}`,alt:t.image,className:"w-full border h-auto rounded-lg shadow-lg hover:shadow-lg transition-shadow duration-200",objectFit:"cover"})}),a(S,{children:[e(d,{src:`/storage/albums/${t.image}`,alt:t.image,className:"w-full h-auto rounded-md mb-4",objectFit:"cover"}),e(H,{trigger:e(c,{variant:"destructive",className:"w-full",onSelect:r=>r.preventDefault(),children:"Delete"}),title:"Delete Package Image",description:"Are you sure you want to permanent delete this Image?",action:()=>C.delete(route("admin.albums.gallery.destroy",{gallery:t.id}),{preserveScroll:!0})})]})]},t.id))})]})})]})}export{fe as default};
