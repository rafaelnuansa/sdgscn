import{q as N,W as w,r as y,j as a,d as C,a as e,y as I}from"./app-6fa01f51.js";import{A as j}from"./admin-layout-fca79991.js";import{I as d}from"./image-5db51842.js";import{P as D,a as P,b as F}from"./popover-56e5c94b.js";import{C as S,d as _,a as k,b as A,c as B}from"./card-9f486e91.js";import"./label-081f6f63.js";import{b as H,B as c}from"./button-e2307a57.js";import{b as L}from"./index-e3a1bf56.js";import{I as G}from"./input-d284db37.js";import"./logo-5f9b324f.js";import"./sweetalert2.all-079bc42e.js";import"./utils-4ffb26b8.js";import"./scroll-area-2d3c3a5b.js";import"./extends-98964cd2.js";import"./index-3874097f.js";import"./index-f537e81f.js";import"./index-46991544.js";import"./index-465903ca.js";import"./LazyLoad-ee4defa4.js";import"./avatar-2fbb423b.js";import"./command-b0fd3b12.js";import"./dialog-509cddda.js";import"./createLucideIcon-c5ae5a41.js";import"./sonner-7bbb8c5e.js";import"./index-8fab0536.js";import"./index-afa7d38e.js";import"./sheet-6a6b4bec.js";import"./index-f96983da.js";import"./dropdown-menu-abbb3a18.js";import"./check-b59271b0.js";function ge(){const{images:p,hotel:l,processing:m,errors:o}=N().props,{setData:g,post:h,processing:n,errors:s}=w(),[u,f]=y.useState(0),b=t=>{const r=t.target.files;g("images",r),f(r.length)},x=t=>{t.preventDefault();const r=new FormData;for(let i=0;i<u;i++)r.append("images[]",t.target.images[i]);h(route("admin.hotels.gallery.store",{hotel:l}),r,{onError:i=>{console.error(i)}})},v=t=>{I.delete(route("admin.hotels.gallery.destroy",{hotel:l.id,image:t}),{onError:r=>{console.error(r)}})};return a(j,{children:[a(C,{className:H({variant:"outline",size:"sm"})+" mb-4",href:route("admin.hotels.index"),children:[e(L,{className:"mr-1"})," Back to List"]}),e(S,{children:a(_,{className:"p-0 [&_td]:whitespace-nowrap [&_td]:px-6 [&_th]:px-6 [&_thead]:border-t",children:[a("div",{className:"flex flex-col justify-between gap-y-6 p-6 md:flex-row md:items-center md:gap-y-0",children:[a(k,{className:"p-0",children:[a(A,{children:[l.name," Images"]}),a(B,{children:["Images Gallery Hotes `",l.name,"`"]})]}),e("div",{className:"flex max-w-md flex-col gap-2 md:flex-row"})]}),e("div",{className:"p-10 border-b border-t",children:e("form",{onSubmit:x,children:a("div",{className:"form-group flex justify-between",children:[e(G,{className:"max-w-sm",type:"file",id:"fileInput",name:"images",multiple:!0,onChange:b}),e(c,{type:"submit",variant:"default",disabled:m||n,children:m||n?"Processing...":"Submit"}),(o==null?void 0:o.images)&&e("p",{className:"text-red-500",children:o==null?void 0:o.images}),(s==null?void 0:s.images)&&e("p",{className:"text-red-500",children:s==null?void 0:s.images})]})})}),e("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-2 p-5",children:p.map(t=>a(D,{children:[e(P,{className:"cursor-pointer",children:e(d,{src:`/storage/images/${t.image}`,alt:t.image,className:"w-full border h-auto rounded-lg shadow-lg hover:shadow-lg transition-shadow duration-200",objectFit:"cover"})}),a(F,{children:[e(d,{src:`/storage/images/${t.image}`,alt:t.image,className:"w-full h-auto rounded-md mb-4",objectFit:"cover"}),e(c,{variant:"destructive",className:"w-full",onClick:()=>v(t.id),children:"Delete"})]})]},t.id))})]})})]})}export{ge as default};
