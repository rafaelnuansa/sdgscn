import{r as y,j as i,a as e,W as C,F,Y as N}from"./app-63e7952b.js";import{C as S,a as x,b as I,c as j,d as D,e as L}from"./card-aad8f5c2.js";import{B as w}from"./button-23f7c2f7.js";import{L as v}from"./label-d2ec3fec.js";import{I as b}from"./input-eee1757d.js";import{I as g}from"./input-error-message-37634001.js";import{c as A,a as R}from"./utils-2190c141.js";import{J as V}from"./index-e35b7e7c.js";import{A as z}from"./admin-layout-53604583.js";import{g as U}from"./index-f2134801.js";import{g as B,m as E}from"./image-47866662.js";import"./index-f96983da.js";import"./index-77ca3b3c.js";import"./logo-8dbfaedc.js";import"./sweetalert2.esm.all-6b8774ac.js";import"./scroll-area-9d3a7a4e.js";import"./index-c2a46114.js";import"./index-5d9aff14.js";import"./avatar-b1c4a6d6.js";import"./command-df4ffff9.js";import"./dialog-ce1b28eb.js";import"./sonner-2cc13a31.js";import"./index-c8e346d0.js";import"./sheet-6d084aef.js";import"./dropdown-menu-9b99620e.js";import"./check-50ecf4a6.js";function J({className:c,onChange:a,accept:h,isMultiple:p}){const[l,n]=y.useState([]),u=d=>{const o=d.target.files||[];if(p){a(o);const t=[],s=r=>{if(r>=o.length){n(t);return}const m=new FileReader;m.onloadend=()=>{t.push(m.result),s(r+1)},m.readAsDataURL(o[r])};s(0)}else{const t=o[0]||null;if(a(t),t){const s=new FileReader;s.onloadend=()=>{n([s.result])},s.readAsDataURL(t)}else n([])}};return i("div",{className:A(c),children:[l.length>0&&l.map((d,o)=>i("div",{className:"relative rounded-lg",children:[e(B,{height:200,width:"100%",children:i(E.video,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},controls:!0,className:"max-h-sm w-full rounded-lg border object-cover object-center",children:[e("source",{src:d,type:"video/mp4"}),"Your browser does not support the video tag."]})}),e(w,{className:"absolute -right-3 -top-3 size-6 rounded-full",size:"icon",variant:"secondary",type:"button",onClick:()=>{const t=[...l];t.splice(o,1),n(t)},children:e(U,{className:"size-4"})})]},o)),e(b,{className:"mt-10 max-w-2xl file:text-foreground",onChange:u,accept:h,type:"file",multiple:p})]})}function P({auth:c,page_meta:a,page_data:h}){var s;const{data:p,setData:l,post:n,errors:u,processing:d}=C({video:null,title:((s=h.video)==null?void 0:s.title)??"",_method:a.method});function o(r){r.preventDefault(),n(a.url,{preserveScroll:!0,onSuccess:m=>{const f=R(m);f&&V[f.type](f.message)}})}function t(r){l(r.target.name,r.target.value)}return i(F,{children:[e(N,{title:a.title}),i(S,{children:[i(x,{children:[e(I,{children:a.title}),e(j,{children:a.description})]}),i("form",{onSubmit:o,children:[e(D,{children:i("div",{className:"space-y-6",children:[i("div",{className:"space-y-1",children:[e(v,{children:"Title"}),e(b,{name:"title",onChange:t,value:p.title}),e(g,{message:u.title})]}),i("div",{className:"max-w-sm space-y-1",children:[e(v,{children:"Video"}),e(J,{onChange:r=>l("video",r)}),e(g,{message:u.video})]})]})}),e(L,{children:e(w,{disabled:d,type:"submit",children:"Submit"})})]})]})]})}P.layout=c=>e(z,{title:c.props.page_meta.title,children:c});export{P as default};
