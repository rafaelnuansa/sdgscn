import{r as p,j as r,a as e,W as g,d as w}from"./app-6fa01f51.js";import{I as l}from"./input-d284db37.js";import{L as m}from"./label-081f6f63.js";import{D as N,a as v,b,c as C,d as k,e as x}from"./dialog-509cddda.js";import{B as u}from"./button-e2307a57.js";import{q as D}from"./index-e3a1bf56.js";import{I as i}from"./input-error-16cfc667.js";import{C as y}from"./checkbox-6f82eb78.js";import{P as L}from"./phone-input-3276aec4.js";import{A as S}from"./index-afa7d38e.js";import"./utils-4ffb26b8.js";import"./extends-98964cd2.js";import"./index-3874097f.js";import"./index-f96983da.js";import"./index-f537e81f.js";import"./index-46991544.js";import"./createLucideIcon-c5ae5a41.js";import"./index-4b60d59b.js";import"./check-b59271b0.js";import"./index-9d034f32.js";import"./index-0dcac027.js";import"./command-b0fd3b12.js";import"./popover-56e5c94b.js";import"./scroll-area-2d3c3a5b.js";import"./index-465903ca.js";function F({onClose:t}){const{data:s,setData:o,post:d,processing:n,errors:c,reset:h}=g({email:"",password:"",remember:!1});return p.useEffect(()=>()=>{h("password")},[]),e("form",{onSubmit:a=>{a.preventDefault(),d(route("login"),{onSuccess:()=>t()})},children:r("div",{className:"grid gap-2",children:[r("div",{className:"mb-3",children:[e(m,{htmlFor:"email",children:"Email"}),e(l,{id:"email",type:"email",name:"email",value:s.email,className:"mt-1 block w-full",onChange:a=>o("email",a.target.value)}),e(i,{message:c.email,className:"mt-2"})]}),r("div",{className:"mb-3",children:[e(m,{htmlFor:"password",children:"Password"}),e(l,{id:"password",type:"password",name:"password",value:s.password,className:"mt-1 block w-full",onChange:a=>o("password",a.target.value)}),e(i,{message:c.password,className:"mt-2"})]}),r("div",{className:"mt-2 flex items-center justify-between",children:[r("label",{className:"flex items-center",children:[e(y,{defaultChecked:!0,name:"remember",onCheckedChange:a=>o("remember",a)}),e("span",{className:"ml-2 select-none text-sm text-muted-foreground",children:"Remember me"})]}),e(w,{href:"/forgot-password",className:"text-sm font-medium text-foreground hover:underline",children:"Lupa Password?"})]}),e("div",{className:"mt-2 gap-x-2",children:e(u,{className:"w-full",disabled:n,type:"submit",children:"Masuk"})})]})})}function I(){const{data:t,setData:s,post:o,processing:d,errors:n,reset:c}=g({name:"",email:"",phone:"+62",password:"",password_confirmation:""});p.useEffect(()=>()=>{c("password","password_confirmation")},[]);const h=a=>/^\+62\d{9,15}$/.test(a);return r("form",{onSubmit:a=>{if(a.preventDefault(),!h(t.phone)){s("phone","+62"),S.warning("Masukkan nomor handphone yang valid dengan format Indonesia");return}o(route("register"))},children:[r("div",{children:[e(m,{htmlFor:"name",children:"Nama Lengkap"}),e(l,{id:"name",name:"name",value:t.name,className:"mt-1 block w-full",autoComplete:"name",autoFocus:!0,onChange:a=>s("name",a.target.value),required:!0}),e(i,{message:n.name,className:"mt-2"})]}),r("div",{className:"mt-4",children:[e(m,{htmlFor:"email",children:"Email"}),e(l,{id:"email",type:"email",name:"email",value:t.email,className:"mt-1 block w-full",autoComplete:"username",onChange:a=>s("email",a.target.value),required:!0}),e(i,{message:n.email,className:"mt-2"})]}),r("div",{className:"mt-4",children:[e(m,{htmlFor:"phone",children:"Nomor Handphone"}),e(L,{id:"phone",international:!0,defaultCountry:"ID",value:t.phone,onChange:a=>s("phone",a),required:!0}),e(i,{message:n.phone,className:"mt-2"})]}),r("div",{className:"mt-4",children:[e(m,{htmlFor:"password",children:"Password"}),e(l,{id:"password",type:"password",name:"password",value:t.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>s("password",a.target.value),required:!0}),e(i,{message:n.password,className:"mt-2"})]}),r("div",{className:"mt-4",children:[e(m,{htmlFor:"password_confirmation",children:"Confirm Password"}),e(l,{id:"password_confirmation",type:"password",name:"password_confirmation",value:t.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>s("password_confirmation",a.target.value),required:!0}),e(i,{message:n.password_confirmation,className:"mt-2"})]}),e("div",{className:"mt-4",children:e(u,{className:"w-full",disabled:d,type:"submit",children:"Register"})})]})}function re(){const[t,s]=p.useState(!1),[o,d]=p.useState(!0);return r(N,{open:t,onOpenChange:s,children:[e(v,{asChild:!0,children:r(u,{variant:"default",onClick:()=>s(!0),className:"w-full",children:[e(D,{className:"mr-2"})," Login / Register"]})}),r(b,{children:[r(C,{children:[e(k,{children:o?"Login":"Register"}),e(x,{children:o?"Silahkan Login dengan akun anda":"Silahkan daftarkan akun anda"})]}),o?e(F,{onClose:()=>s(!1)}):e(I,{}),e("div",{className:"mt-4 flex items-center justify-center",children:e(u,{variant:"link",onClick:()=>d(!o),children:o?"Belum punya akun? Register":"Sudah punya akun? Login"})})]})]})}export{re as default};
