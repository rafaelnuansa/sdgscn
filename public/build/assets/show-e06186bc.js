import{r as x,j as t,F as h,a as l,d as P,b as y}from"./app-6fa01f51.js";import{c as s,b as B}from"./utils-4ffb26b8.js";import{B as f}from"./button-e2307a57.js";import{L as C}from"./layout-7b09457a.js";import{C as i,a as o,b as m,c as N,d as c}from"./card-9f486e91.js";import S from"./booking-create-payment-b156666a.js";import"./extends-98964cd2.js";import"./index-f96983da.js";import"./logo-5f9b324f.js";import"./sweetalert2.all-079bc42e.js";import"./image-5db51842.js";import"./LazyLoad-ee4defa4.js";import"./index-e3a1bf56.js";import"./avatar-2fbb423b.js";import"./index-46991544.js";import"./index-3874097f.js";import"./command-b0fd3b12.js";import"./index-f537e81f.js";import"./dialog-509cddda.js";import"./createLucideIcon-c5ae5a41.js";import"./sheet-6a6b4bec.js";import"./dropdown-menu-abbb3a18.js";import"./index-465903ca.js";import"./check-b59271b0.js";import"./label-081f6f63.js";import"./input-d284db37.js";function D({booking:a,remaining_payment:n}){var u;const[v,d]=x.useState(!1),b=e=>{window.snap.pay(e,{onSuccess:function(r){console.log(r)},onPending:function(r){console.log(r)},onError:function(r){console.log(r)},onClose:function(){console.log("Payment popup closed")}})},p=a.payments&&a.payments.length>0,g=a.payments.some(e=>e.status==="pending");return t(h,{children:[l(P,{className:"border border-gray-300 rounded px-4 py-2 mb-5 inline-block",href:route("bookings.index"),children:"Kembali"}),l(S,{openPaymentBookingDialog:v,setOpenPaymentBookingDialog:d,booking:a,remaining_payment:n}),l(y,{title:`${a.invoice} - Booking Details`}),t(i,{children:[t(o,{children:[t(m,{className:"text-2xl font-bold",children:["BOOKING #",a.invoice]}),t(N,{className:"text-sm",children:["Informasi detail terkait pemesanan ",a.package.name]})]}),t(c,{className:"border-t p-0",children:[a&&t("div",{className:"mb-5 mt-5 px-10",children:[l("h2",{className:"mb-4 text-lg font-semibold",children:"Detail Paket"}),l("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Nama Pemesan",value:a.user.name},{label:"Email",value:a.user.email},{label:"Nomor Telpon",value:a.user.phone},{label:"Nama Paket",value:a.package.name},{label:"Kategori",value:(u=a.package.category)==null?void 0:u.name},{label:"Harga",value:s(a.package.price)},{label:"Invoice",value:a.invoice},{label:"Jumlah Peserta",value:a.qty},{label:"Sisa Pembayaran",value:s(parseInt(n))},{label:"Total",value:s(parseInt(a.amount))},{label:"Status Booking",value:a.status}].map((e,r)=>t("div",{children:[l("p",{className:"text-sm",children:e.label}),l("p",{className:"font-semibold",children:e.value})]},r))})]}),l("div",{className:"space-y-4 p-5",children:p?a.payments.map(e=>t(i,{className:"bg-gray-200",children:[t(o,{children:[t(m,{className:"text-lg font-bold",children:["Pembayaran ",e.amount?s(e.amount):"-"]}),l(N,{children:e.created_at?B(e.created_at):"-"})]}),t(c,{children:[t("div",{className:"mb-2",children:[l("p",{className:"font-semibold",children:e.id}),t("p",{children:["Metode: ",e.method,", ",e.type]}),t("p",{children:["Jumlah: ",e.amount?s(e.amount):"-"]}),t("p",{children:["Status: ",e.status]})]}),e.status==="pending"&&e.snap_token&&l(f,{onClick:()=>b(e.snap_token),className:"mt-2",children:"Bayar Sekarang"})]})]},e.id)):l(h,{})}),n>0&&!g&&l("div",{className:"p-5 text-center",children:t(i,{className:"bg-gray-200",children:[l(o,{children:l(m,{className:"text-lg font-bold"})}),l(c,{className:"text-center",children:l(f,{variant:"default",className:"mb-2 ml-2 text-sm",onClick:()=>d(!0),children:p?"Lunasi Sisa Pembayaran":"Buat Pembayaran"})})]})})]})]})]})}D.layout=a=>l(C,{children:a});export{D as default};
