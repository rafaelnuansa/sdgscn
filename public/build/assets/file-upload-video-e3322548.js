import{r as h,j as c,a as t}from"./app-6fa01f51.js";import{i as v}from"./index-e3a1bf56.js";import{d as w}from"./utils-4ffb26b8.js";import{B as g}from"./button-e2307a57.js";import{I as b}from"./input-d284db37.js";import{g as y}from"./LazyLoad-ee4defa4.js";import{m as F}from"./image-5db51842.js";function U({className:p,onChange:d,accept:u,isMultiple:m}){const[a,s]=h.useState([]),f=i=>{const r=i.target.files||[];if(m){d(r);const e=[],o=l=>{if(l>=r.length){s(e);return}const n=new FileReader;n.onloadend=()=>{e.push(n.result),o(l+1)},n.readAsDataURL(r[l])};o(0)}else{const e=r[0]||null;if(d(e),e){const o=new FileReader;o.onloadend=()=>{s([o.result])},o.readAsDataURL(e)}else s([])}};return c("div",{className:w(p),children:[a.length>0&&a.map((i,r)=>c("div",{className:"relative rounded-lg",children:[t(y,{height:200,width:"100%",children:c(F.video,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},controls:!0,className:"max-h-sm w-full rounded-lg border object-cover object-center",children:[t("source",{src:i,type:"video/mp4"}),"Your browser does not support the video tag."]})}),t(g,{className:"absolute -right-3 -top-3 size-6 rounded-full",size:"icon",variant:"secondary",type:"button",onClick:()=>{const e=[...a];e.splice(r,1),s(e)},children:t(v,{className:"size-4"})})]},r)),t(b,{className:"mt-10 max-w-2xl file:text-foreground",onChange:f,accept:u,type:"file",multiple:m})]})}export{U as F};
