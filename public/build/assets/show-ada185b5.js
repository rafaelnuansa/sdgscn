import{q as A,j as i,a,b as D,d as I,F as T,y as x}from"./app-6fa01f51.js";import{C as j,a as y,b as B,c as P,d as z}from"./card-9f486e91.js";import{A as F}from"./admin-layout-fca79991.js";import{b as _,g as E,h as M,i as d,j as H,a as L,k as V,l as $}from"./index-e3a1bf56.js";import{c as o,b as p}from"./utils-4ffb26b8.js";import{b as q,B as J}from"./button-e2307a57.js";import{T as R,a as G,b as m,c as n,d as K,e as l}from"./table-910a4cca.js";import{l as h}from"./lodash-0519b56f.js";import{D as g,a as b,b as k,c as v,d as f,f as C,e as S}from"./dropdown-menu-abbb3a18.js";import{A as N}from"./alert-action-54ac0550.js";import"./logo-5f9b324f.js";import"./sweetalert2.all-079bc42e.js";import"./image-5db51842.js";import"./LazyLoad-ee4defa4.js";import"./scroll-area-2d3c3a5b.js";import"./extends-98964cd2.js";import"./index-3874097f.js";import"./index-f537e81f.js";import"./index-46991544.js";import"./index-465903ca.js";import"./avatar-2fbb423b.js";import"./command-b0fd3b12.js";import"./dialog-509cddda.js";import"./createLucideIcon-c5ae5a41.js";import"./sonner-7bbb8c5e.js";import"./index-8fab0536.js";import"./index-afa7d38e.js";import"./sheet-6a6b4bec.js";import"./index-f96983da.js";import"./label-081f6f63.js";import"./check-b59271b0.js";import"./alert-dialog-4b58ff09.js";const O=[{status:"success",icon:V,label:"Success",confirmMessage:"Apakah yakin mengubah status menjadi Success?"},{status:"pending",icon:M,label:"Pending",confirmMessage:"Apakah yakin mengubah status menjadi Pending?"},{status:"failed",icon:d,label:"Failed",confirmMessage:"Apakah yakin mengubah status menjadi Failed?"},{status:"expired",icon:$,label:"Expired",confirmMessage:"Apakah yakin mengubah status menjadi Expired?"},{status:"cancel",icon:d,label:"Cancel",confirmMessage:"Apakah yakin mengubah status menjadi Cancel?"}],U=(c,e)=>{x.post(route("admin.payments.status",{payment:c,status:e}),{preserveScroll:!0})};function Da(){var u;const{auth:c,booking:e}=A().props;return i(F,{children:[a(D,{title:`${e.invoice} ${e.package.name}`}),i(I,{href:route("admin.bookings.index"),className:`${q({variant:"outline"})} mb-3`,children:[a(_,{className:"mr-2 h-5 w-5"})," Back to Booking List"]}),i(j,{children:[i(y,{children:[i(B,{className:"text-2xl font-bold",children:["#",e.invoice]}),i(P,{className:"text-sm",children:["Informasi detail terkait pemesanan ",e.package.name]})]}),a(z,{className:"border-t p-0",children:i("div",{children:[e&&i("div",{className:"mb-5 mt-5 px-10",children:[a("h2",{className:"mb-4 text-lg font-semibold",children:"Detail Paket"}),a("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Nama Pemesan",value:e.user.name},{label:"Email",value:e.user.email},{label:"Nomor Telpon",value:e.user.phone},{label:"Nama Paket",value:e.package.name},{label:"Kategori",value:(u=e.package.category)==null?void 0:u.name},{label:"Harga",value:o(e.package.price)},{label:"Invoice",value:e.invoice},{label:"Jumlah Peserta",value:e.qty},{label:"Terbayar",value:o(parseInt(e.amount))},{label:"Sisa Pembayaran",value:o(parseInt(e.amount))},{label:"Total",value:o(parseInt(e.amount))},{label:"Status Booking",value:e.status},{label:"Status Booking",value:i(g,{children:[a(b,{asChild:!0,children:i(J,{variant:"outline",size:"sm",children:[h.capitalize(e.status)," ",a(E,{className:"ml-2 size-3"})]})}),i(k,{align:"end",className:"w-48",children:[a(v,{children:"Change status"}),a(f,{}),c.user.is_admin&&a(T,{children:[{status:"pending",label:"Pending",icon:M,confirmMessage:"Apakah yakin mengubah status menjadi Pending?"},{status:"canceled",label:"Canceled",icon:d,confirmMessage:"Apakah yakin mengubah status menjadi Canceled?"},{status:"completed",label:"Completed",icon:H,confirmMessage:"Apakah yakin mengubah status menjadi Completed?"}].map(s=>a(C,{children:a(N,{trigger:i(S,{onSelect:t=>t.preventDefault(),children:[a(s.icon,{className:"mr-2 w-3"})," ",s.label]}),title:e.invoice,description:s.confirmMessage,action:()=>x.post(route("admin.bookings.status",{booking:e.id,status:s.status}),{preserveScroll:!1})})},s.status))})]})]})}].map((s,t)=>i("div",{children:[a("p",{className:"text-sm",children:s.label}),a("p",{className:"font-semibold",children:s.value})]},t))})]}),i(R,{size:"sm",children:[a(G,{children:i(m,{children:[a(n,{children:"ID Transaksi"}),a(n,{children:"Metode"}),a(n,{children:"Virtual Account"}),a(n,{children:"Jumlah"}),a(n,{children:"Status"}),a(n,{children:"Berlaku sampai"}),a(n,{children:"Waktu"}),a(n,{})]})}),a(K,{children:e.payments&&e.payments.length>0?e.payments.map(s=>{var t;return i(m,{children:[a(l,{children:s.id}),a(l,{children:((t=s.method)==null?void 0:t.toUpperCase())||"-"}),a(l,{children:s.va_number||"-"}),a(l,{children:s.amount?o(s.amount):"-"}),a(l,{children:h.capitalize(s.status||"-")}),a(l,{children:s.expiry_time?p(s.expiry_time):"-"}),a(l,{children:s.created_at?p(s.created_at):"-"}),a(l,{children:i(g,{children:[a(b,{children:a(L,{className:"ml-2 size-3"})}),i(k,{align:"end",className:"w-48",children:[a(v,{children:"Change status"}),a(f,{}),O.map(r=>a(C,{children:a(N,{trigger:i(S,{onSelect:w=>w.preventDefault(),children:[a(r.icon,{className:"mr-2 w-3"})," ",r.label]}),title:s.id,description:r.confirmMessage,action:()=>U(s.id,r.status)})},r.status))]})]})})]},s.id)}):a(m,{children:a(l,{colSpan:"8",className:"text-center",children:"Belum ada pembayaran"})})})]})]})})]})]})}export{Da as default};
