import{r as u,j as a,F as C,a as e,Y as D,b as f,y as o}from"./app-63e7952b.js";import{C as v}from"./container-d866ff26.js";import{b as l}from"./button-23f7c2f7.js";import{A as S}from"./admin-layout-53604583.js";import{C as A,a as T,b as M,c as P,d as j,e as F}from"./card-aad8f5c2.js";import{T as H,a as k,b,c as n,d as G,e as d}from"./table-bfebefa9.js";import{f as L}from"./utils-2190c141.js";import{D as R,a as E,b as V,c as _,d as g,e as y,f as z}from"./dropdown-menu-9b99620e.js";import{a as B}from"./index-f2134801.js";import{A as I}from"./alert-action-01406725.js";import{P as Y}from"./pagination-83f92938.js";import"./index-f96983da.js";import"./logo-8dbfaedc.js";import"./sweetalert2.esm.all-6b8774ac.js";import"./image-47866662.js";import"./scroll-area-9d3a7a4e.js";import"./index-77ca3b3c.js";import"./index-c2a46114.js";import"./index-5d9aff14.js";import"./avatar-b1c4a6d6.js";import"./command-df4ffff9.js";import"./dialog-ce1b28eb.js";import"./sonner-2cc13a31.js";import"./index-c8e346d0.js";import"./index-e35b7e7c.js";import"./sheet-6d084aef.js";import"./label-d2ec3fec.js";import"./check-50ecf4a6.js";function $({publications:t,sdgs:x,filters:s}){const[c,m]=u.useState(s.search||""),[p,h]=u.useState(s.sdg||""),w=r=>{r.preventDefault(),o.get("/admin/publications",{search:c,sdg:p})},N=()=>{m(""),h(""),o.get("/admin/publications",{search:"",sdg:""})};return a(C,{children:[e(D,{title:"Publications"}),e(v,{children:a(A,{children:[a(T,{children:[e(M,{children:"Publication List"}),e(P,{children:"Here you can manage all publication related to SDGs."}),e("div",{className:"mb-4",children:e(f,{className:l("primary"),href:route("admin.publications.create"),children:"Add New Publication"})}),e("div",{children:e("form",{onSubmit:w,className:"mt-5 space-y-4",children:a("div",{className:"flex flex-col md:flex-row gap-4",children:[e("input",{type:"text",placeholder:"Search publication or author name...",value:c,onChange:r=>m(r.target.value),className:"p-2 border border-gray-300 rounded-md w-full md:w-1/3"}),a("select",{value:p,onChange:r=>h(r.target.value),className:"p-2 border border-gray-300 rounded-md w-full md:w-1/3",children:[e("option",{value:"",children:"All SDGs"}),x.map(r=>e("option",{value:r.id,children:r.name},r.id))]}),a("div",{className:"flex gap-2",children:[e("button",{type:"submit",className:l("primary"),children:"Apply Filters"}),e("button",{type:"button",onClick:N,className:l("secondary"),children:"Reset"})]})]})})})]}),e(j,{className:"p-0  [&_thead]:border-t",children:a(H,{children:[e(k,{children:a(b,{children:[e(n,{className:"max-w-[500px]",children:"Title"}),e(n,{children:"Created"}),e(n,{})]})}),e(G,{children:t.data.map(r=>a(b,{children:[a(d,{className:"overflow-hidden",children:[e("b",{className:"line-clamp-2",children:r.title}),r.experts&&r.experts.length>0?r.experts.map(i=>i.name).join(", "):"",r.year&&(r.experts&&r.experts.length>0?` â€¢ ${r.year}`:r.year)]}),e(d,{children:L(r.created_at)}),e(d,{children:e("div",{className:"flex justify-end",children:a(R,{children:[e(E,{children:e(B,{className:"size-4"})}),a(V,{align:"end",className:"w-48",children:[e(_,{children:"Actions"}),e(g,{}),e(y,{asChild:!0,children:e(f,{href:route("admin.publications.edit",[r]),children:"Edit"})}),a(z,{children:[e(g,{}),e(I,{trigger:e(y,{onSelect:i=>i.preventDefault(),children:"Delete"}),title:"Delete",description:"Are you sure you want to delete this?",action:()=>o.delete(route("admin.publications.destroy",[r]),{preserveScroll:!0})})]})]})]})})})]},r.id))})]})}),e(F,{className:"border-t text-sm text-muted-foreground",children:e(Y,{links:t.links})})]})})]})}$.layout=t=>e(S,{children:t});export{$ as default};
