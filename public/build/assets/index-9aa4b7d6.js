import{q as V,r as p,W as k,j as r,F as D,a as e,Y as L,y as S}from"./app-63e7952b.js";import{B as u}from"./button-23f7c2f7.js";import{C as h,a as f,b as w,c as v,d as g}from"./card-aad8f5c2.js";import{I as l}from"./input-eee1757d.js";import{L as t}from"./label-d2ec3fec.js";import{I as n}from"./input-error-34fdfcb4.js";import{P as j}from"./phone-input-c3082cb5.js";import{L as R}from"./layout-cecba6e7.js";import"./index-f96983da.js";import"./utils-2190c141.js";import"./index-77ca3b3c.js";import"./index-7fbae591.js";import"./index-fc7fcb57.js";import"./command-df4ffff9.js";import"./index-f2134801.js";import"./index-c2a46114.js";import"./dialog-ce1b28eb.js";import"./popover-5ae7021f.js";import"./check-50ecf4a6.js";import"./scroll-area-9d3a7a4e.js";import"./index-5d9aff14.js";import"./logo-8dbfaedc.js";import"./sweetalert2.esm.all-6b8774ac.js";import"./image-47866662.js";import"./avatar-b1c4a6d6.js";import"./sheet-6d084aef.js";import"./dropdown-menu-9b99620e.js";function Y(){const{props:m}=V(),{profile:d}=m,C=p.useRef(),N=p.useRef(),[_,b]=p.useState(!1),{data:o,setData:s,errors:i,put:P,reset:c,processing:y}=k({name:d.name||"",phone:d.phone||"",email:d.email||"",current_password:"",password:"",password_confirmation:""}),x=a=>{a.preventDefault(),P(route("admin.profile.updatePassword"),{preserveScroll:!0,onSuccess:()=>c(),onError:E=>{E.password&&(c("password","password_confirmation"),C.current.focus()),E.current_password&&(c("current_password"),N.current.focus())}})},I=a=>{a.preventDefault(),P(route("admin.profile.update"),{preserveScroll:!0,onSuccess:()=>S.visit(route("admin.profile.index"),{method:"get"})})},F=()=>{S.post(route("admin.profile.sendVerificationEmail"),{},{onSuccess:()=>b(!0)})};return r(D,{children:[e(L,{title:"Profile"}),r("div",{className:"space-y-5",children:[!d.email_verified_at&&r(h,{children:[r(f,{children:[e(w,{children:"Email Verification"}),e(v,{children:"Your Email is not verified, Please Confirm Your Email"})]}),e(g,{children:e("div",{children:e(u,{onClick:F,disabled:_,children:_?"Verification Email Sent":"Resend Verification Email"})})})]}),r(h,{children:[r(f,{children:[e(w,{children:"Edit Profile"}),e(v,{children:"Edit Profile information"})]}),e(g,{children:r("form",{onSubmit:I,className:"space-y-6",children:[r("div",{children:[e(t,{htmlFor:"name",children:"Name"}),e(l,{id:"name",value:o.name,onChange:a=>s("name",a.target.value),type:"text",className:"mt-1 block w-full"}),e(n,{message:i.name,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"phone",children:"Phone"}),e(j,{id:"phone",international:!0,defaultCountry:"ID",value:o.phone,onChange:a=>s("phone",a),required:!0}),e(n,{message:i.phone,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"email",children:"Email"}),e(l,{id:"email",value:o.email,onChange:a=>s("email",a.target.value),type:"email",className:"mt-1 block w-full"}),e(n,{message:i.email,className:"mt-2"})]}),e("div",{className:"flex items-center gap-4",children:e(u,{disabled:y,children:"Save"})})]})})]}),r(h,{children:[r(f,{children:[e(w,{children:"Change Password"}),e(v,{children:"Change your account password"})]}),e(g,{children:r("form",{onSubmit:x,className:"space-y-6",children:[r("div",{children:[e(t,{htmlFor:"current_password",children:"Password"}),e(l,{id:"current_password",ref:N,value:o.current_password,onChange:a=>s("current_password",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password"}),e(n,{message:i.current_password,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"password",children:"New Password"}),e(l,{id:"password",ref:C,value:o.password,onChange:a=>s("password",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(n,{message:i.password,className:"mt-2"})]}),r("div",{children:[e(t,{htmlFor:"password_confirmation",children:"Confirm Password"}),e(l,{id:"password_confirmation",value:o.password_confirmation,onChange:a=>s("password_confirmation",a.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e(n,{message:i.password_confirmation,className:"mt-2"})]}),e("div",{className:"flex items-center gap-4",children:e(u,{disabled:y,children:"Save"})})]})})]})]})]})}Y.layout=m=>e(R,{children:m});export{Y as default};
